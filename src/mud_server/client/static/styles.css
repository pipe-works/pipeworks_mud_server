/* ============================================================================
   MUD Client - Centralized Styles
   ============================================================================

   This stylesheet provides custom styling for the Gradio-based MUD client
   interface. Primary focus is on preventing jarring UI changes in dark mode.

   Author: Claude Code
   Last Updated: 2025-12-21
   ============================================================================ */


/* ============================================================================
   Input Focus Styling
   ============================================================================
   Prevents jarring white background flash on focus in dark mode while
   maintaining clear visual feedback for focused elements.
   ============================================================================ */

/* Target ALL input elements - most aggressive approach */
* input,
* textarea,
* select {
    background-color: var(--input-background-fill, rgb(31, 41, 55)) !important;
}

/* Override focus states comprehensively - Safari-friendly */
* input:focus,
* input:focus-visible,
* input:focus-within,
* textarea:focus,
* textarea:focus-visible,
* textarea:focus-within,
* select:focus,
* select:focus-visible,
* select:focus-within {
    background-color: var(--input-background-fill, rgb(31, 41, 55)) !important;
    outline: none !important;
    box-shadow: 0 0 0 2px var(--primary-500, rgb(99, 102, 241)) !important;
    -webkit-appearance: none !important;
}

/* Safari-specific fixes */
@supports (-webkit-hyphens:none) {
    input:focus,
    textarea:focus {
        background-color: rgb(31, 41, 55) !important;
    }
}

/* Target all Gradio input variations */
.gr-textbox,
.gr-textbox input,
.gr-textbox textarea,
.gr-input,
.gr-input input,
.gr-input textarea,
.gr-box input,
.gr-box textarea,
.gr-form input,
.gr-form textarea,
label input,
label textarea {
    background-color: var(--input-background-fill, rgb(31, 41, 55)) !important;
}

/* Focus states for Gradio components */
.gr-textbox:focus,
.gr-textbox:focus-within,
.gr-textbox input:focus,
.gr-textbox input:focus-visible,
.gr-textbox textarea:focus,
.gr-textbox textarea:focus-visible,
.gr-input:focus,
.gr-input:focus-within,
.gr-input input:focus,
.gr-input textarea:focus,
.gr-box:focus-within input,
.gr-box:focus-within textarea,
.gr-form:focus-within input,
.gr-form:focus-within textarea,
label:focus-within input,
label:focus-within textarea {
    background-color: var(--input-background-fill, rgb(31, 41, 55)) !important;
    box-shadow: 0 0 0 2px var(--primary-500, rgb(99, 102, 241)) !important;
}

/* Specific input types */
input[type="text"]:focus,
input[type="password"]:focus,
input[type="email"]:focus,
input[type="url"]:focus,
input[type="search"]:focus,
input[type="number"]:focus,
input[type="text"]:focus-visible,
input[type="password"]:focus-visible,
input[type="email"]:focus-visible,
input[type="url"]:focus-visible,
input[type="search"]:focus-visible,
input[type="number"]:focus-visible {
    background-color: var(--input-background-fill, rgb(31, 41, 55)) !important;
    box-shadow: 0 0 0 2px var(--primary-500, rgb(99, 102, 241)) !important;
    -webkit-appearance: none !important;
}

/* Target dropdowns */
.gr-dropdown:focus,
.gr-dropdown:focus-within {
    background-color: var(--input-background-fill, rgb(31, 41, 55)) !important;
}


/* ============================================================================
   Transitions
   ============================================================================
   Smooth transitions for interactive elements to provide professional feel.
   ============================================================================ */

input,
textarea,
select,
.gr-textbox,
.gr-textbox input,
.gr-textbox textarea,
.gr-dropdown,
.gr-input {
    transition: box-shadow 0.2s ease !important;
}


/* ============================================================================
   Browser Default Overrides
   ============================================================================
   Remove default browser styling that conflicts with our design.
   ============================================================================ */

/* Remove default browser focus rings and outlines */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
    outline: none !important;
}


/* ============================================================================
   State Styles
   ============================================================================
   Consistent styling for disabled and readonly states.
   ============================================================================ */

/* Ensure consistent behavior for disabled/readonly states */
input:disabled,
textarea:disabled,
input:read-only,
textarea:read-only {
    opacity: 0.6;
}
